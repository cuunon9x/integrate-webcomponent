{"file":"uc-stock-finder.js","mappings":";;;;AAAA,MAAM,cAAc,GAAG,qsBAAqsB;;MCQ/sB,WAAW;;;;;;yBAEuC,EAAE;mBACnC,KAAK;;EAIjC,WAAW,CAAC,KAAY;IACtB,KAAK,CAAC,cAAc,EAAE,CAAC;IACvB,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;IAC5C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;GACzB;EACD,cAAc,CAAC,MAAc;IAC3B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;GACpC;;EAED,OAAO,CAAC,WAAmB;;IAEzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACpB,KAAK;;IAEH,qEAAqE,WAAW,WAAW,OAAO,EAAE,CACrG;OACE,IAAI,CAAC,CAAC,GAAG;MACR,OAAO,GAAG,CAAC,IAAI,EAAE,CAAC;KACnB,CAAC;OACD,IAAI,CAAC,CAAC,cAAc;MACnB,IAAI,CAAC,aAAa,GAAG,cAAc,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO;QAC7D,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC;OACnE,CAAC,CAAC;MACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;KACtB,CAAC;OACD,KAAK,CAAC,CAAC,GAAG;;MAET,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;MACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;KACtB,CAAC,CAAC;GACN;EACD,MAAM;IACJ,IAAI,OAAO,IACT,cACG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,MAAM,MAC7B,UAAI,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IACxD,kBAAS,MAAM,CAAC,MAAM,CAAU,SAAI,MAAM,CAAC,IAAI,CAC5C,CACN,CAAC,CACC,CACN,CAAC;IACF,IAAI,IAAI,CAAC,OAAO,EAAE;MAChB,OAAO,GAAG,6BAAyC,CAAC;KACrD;IACD,OAAO;MACL,YAAM,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IACzC,aACE,EAAE,EAAC,mBAAmB,EACtB,GAAG,EAAE,CAAC,EAAE;UACN,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;SAC1B,GACM,EACT,cAAQ,IAAI,EAAC,QAAQ,WAAc,CAC9B;MACP,OAAO;KACR,CAAC;GACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["./src/components/stock-finder/stock-finder.css?tag=uc-stock-finder&encapsulation=shadow","./src/components/stock-finder/stock-finder.tsx"],"sourcesContent":[":host {\r\n  font-family: sans-serif;\r\n  border: 2px solid #3b013b;\r\n  margin: 2rem;\r\n  padding: 1rem;\r\n  display: block;\r\n  width: 20rem;\r\n  max-width: 100%;\r\n}\r\nform input {\r\n  font: inherit;\r\n  color: #3b013b;\r\n  padding: 0.1rem 0.25rem;\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\nform input:focus,\r\nform button:focus {\r\n  outline: none;\r\n}\r\n\r\nform button {\r\n  font: inherit;\r\n  padding: 0.25rem 0.5rem;\r\n  border: 1px solid #3b013b;\r\n  background: #3b013b;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\nform button:hover,\r\nform button:active {\r\n  background: #750175;\r\n  border-color: #750175;\r\n}\r\nform button:disabled {\r\n  background: #ccc;\r\n  border-color: #ccc;\r\n  color: white;\r\n  cursor: not-allowed;\r\n}\r\nul {\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n}\r\n\r\nli {\r\n  margin: 0.25rem 0;\r\n  padding: 0.25rem;\r\n  border: 1px solid #ccc;\r\n  cursor: pointer;\r\n}\r\nli:hover,\r\nli:active {\r\n  background: #3b013b;\r\n  color: white;\r\n}\r\n","import { Component, State, h, Event, EventEmitter } from \"@stencil/core\";\r\nimport { API_KEY } from \"../../global/global\";\r\n\r\n@Component({\r\n  tag: \"uc-stock-finder\",\r\n  styleUrl: \"./stock-finder.css\",\r\n  shadow: true,\r\n})\r\nexport class StockFinder {\r\n  stockNameInput: HTMLInputElement;\r\n  @State() searchResults: { name: string; symbol: string }[] = [];\r\n  @State() loading: boolean = false;\r\n  @Event({ bubbles: true, composed: true })\r\n  ucSymbolSelected: EventEmitter<string>;\r\n\r\n  onFindStock(event: Event) {\r\n    event.preventDefault();\r\n    const stockName = this.stockNameInput.value;\r\n    this.onFetch(stockName);\r\n  }\r\n  onSelectSymbol(symbol: string) {\r\n    this.ucSymbolSelected.emit(symbol);\r\n  }\r\n  // @Listen('ucSymbolSelected', { target: 'body' })\r\n  onFetch(stockSymbol: string) {\r\n    // event.preventDefault();\r\n    this.loading = true;\r\n    fetch(\r\n      //   \"https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=tencent&apikey=demo\"\r\n      `https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${stockSymbol}&apikey=${API_KEY}`\r\n    )\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((parsedResponse) => {\r\n        this.searchResults = parsedResponse[\"bestMatches\"].map((matches) => {\r\n          return { name: matches[\"2. name\"], symbol: matches[\"1. symbol\"] };\r\n        });\r\n        this.loading = false;\r\n      })\r\n      .catch((err) => {\r\n        // this.error = err.message;\r\n        console.log(err);\r\n        this.loading = false;\r\n      });\r\n  }\r\n  render() {\r\n    let content = (\r\n      <ul>\r\n        {this.searchResults.map((result) => (\r\n          <li onClick={this.onSelectSymbol.bind(this, result.symbol)}>\r\n            <strong>{result.symbol}</strong> = {result.name}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n    if (this.loading) {\r\n      content = <uc-spinner-loading></uc-spinner-loading>;\r\n    }\r\n    return [\r\n      <form onSubmit={this.onFindStock.bind(this)}>\r\n        <input\r\n          id=\"stock-symbol-find\"\r\n          ref={(el) => {\r\n            this.stockNameInput = el;\r\n          }}\r\n        ></input>\r\n        <button type=\"submit\">Find</button>\r\n      </form>,\r\n      content,\r\n    ];\r\n  }\r\n}\r\n"],"version":3}