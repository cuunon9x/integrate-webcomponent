import{r as t,h as o,H as i,c as l,g as r}from"./p-2f945ada.js";const e=':host{display:block}.lds-roller{display:inline-block;position:relative;width:80px;height:80px}.lds-roller div{animation:lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;transform-origin:40px 40px}.lds-roller div:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#750175;margin:-4px 0 0 -4px}.lds-roller div:nth-child(1){animation-delay:-0.036s}.lds-roller div:nth-child(1):after{top:63px;left:63px}.lds-roller div:nth-child(2){animation-delay:-0.072s}.lds-roller div:nth-child(2):after{top:68px;left:56px}.lds-roller div:nth-child(3){animation-delay:-0.108s}.lds-roller div:nth-child(3):after{top:71px;left:48px}.lds-roller div:nth-child(4){animation-delay:-0.144s}.lds-roller div:nth-child(4):after{top:72px;left:40px}.lds-roller div:nth-child(5){animation-delay:-0.18s}.lds-roller div:nth-child(5):after{top:71px;left:32px}.lds-roller div:nth-child(6){animation-delay:-0.216s}.lds-roller div:nth-child(6):after{top:68px;left:24px}.lds-roller div:nth-child(7){animation-delay:-0.252s}.lds-roller div:nth-child(7):after{top:63px;left:17px}.lds-roller div:nth-child(8){animation-delay:-0.288s}.lds-roller div:nth-child(8):after{top:56px;left:12px}@keyframes lds-roller{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}';const n=class{constructor(o){t(this,o)}render(){return o(i,null,o("slot",null,o("div",{class:"lds-roller"},o("div",null),o("div",null),o("div",null),o("div",null),o("div",null),o("div",null),o("div",null),o("div",null))))}};n.style=e;const s="YOUR_KEY_HERE'";const d=":host{font-family:sans-serif;border:2px solid #3b013b;margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}form input{font:inherit;color:#3b013b;padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid #3b013b;background:#3b013b;color:white;cursor:pointer}form button:hover,form button:active{background:#750175;border-color:#750175}form button:disabled{background:#ccc;border-color:#ccc;color:white;cursor:not-allowed}ul{margin:0;padding:0;list-style:none}li{margin:0.25rem 0;padding:0.25rem;border:1px solid #ccc;cursor:pointer}li:hover,li:active{background:#3b013b;color:white}";const c=class{constructor(o){t(this,o);this.ucSymbolSelected=l(this,"ucSymbolSelected",7);this.searchResults=[];this.loading=false}onFindStock(t){t.preventDefault();const o=this.stockNameInput.value;this.onFetch(o)}onSelectSymbol(t){this.ucSymbolSelected.emit(t)}onFetch(t){this.loading=true;fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${t}&apikey=${s}`).then((t=>t.json())).then((t=>{this.searchResults=t["bestMatches"].map((t=>({name:t["2. name"],symbol:t["1. symbol"]})));this.loading=false})).catch((t=>{console.log(t);this.loading=false}))}render(){let t=o("ul",null,this.searchResults.map((t=>o("li",{onClick:this.onSelectSymbol.bind(this,t.symbol)},o("strong",null,t.symbol)," = ",t.name))));if(this.loading){t=o("uc-spinner-loading",null)}return[o("form",{onSubmit:this.onFindStock.bind(this)},o("input",{id:"stock-symbol-find",ref:t=>{this.stockNameInput=t}}),o("button",{type:"submit"},"Find")),t]}};c.style=d;const a=":host{font-family:sans-serif;border:2px solid #3b013b;margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}:host(.error){border-color:orange}form input{font:inherit;color:#3b013b;padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid #3b013b;background:#3b013b;color:white;cursor:pointer}form button:hover,form button:active{background:#750175;border-color:#750175}form button:disabled{background:#ccc;border-color:#ccc;color:white;cursor:not-allowed}";const h=class{constructor(o){t(this,o);this.fetchedPrice=undefined;this.stockSymbolValue=undefined;this.isStockInputValid=false;this.error=undefined;this.loading=false;this.stockSymbol=undefined}stockSymbolChanged(t,o){if(t!==o){this.stockSymbolValue=t;this.isStockInputValid=true}}onStockValueChange(t){this.stockSymbolValue=t.target.value;if(this.stockSymbolValue.trim()!==""){this.isStockInputValid=true}else{this.isStockInputValid=false}}onFetchStockPrice(t){t.preventDefault();const o=this.stockInput.value;this.fetchStockPrice(o)}componentWillLoad(){console.log("will load")}componentDidLoad(){console.log("did load");if(this.stockSymbol){this.stockSymbolValue=this.stockSymbol;this.isStockInputValid=true;this.fetchStockPrice(this.stockSymbol)}}componentWillUpdate(){console.log("will update")}componentDidUpdate(){console.log("did update")}disconnectedCallback(){console.log("disconnectedCallback")}onStockSymbolSelected(t){console.log("Stock symbol selected"+t.detail);if((t===null||t===void 0?void 0:t.detail)!==this.stockSymbol){this.stockSymbol=t.detail;this.fetchStockPrice(t.detail)}}fetchStockPrice(t){this.loading=true;fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${t}&apikey=${s}`).then((t=>{if(!t.ok){throw new Error("Invalid!")}return t.json()})).then((t=>{if(!t["Global Quote"]){this.error="Invalid Stock Symbol!";throw new Error("Invalid Stock Symbol!")}this.error="";this.fetchedPrice=+t["Global Quote"]["05. price"];this.loading=false})).catch((t=>{this.error=t.message;this.loading=false}))}hostData(){return{class:this.error?"error":""}}__stencil_render(){let t=o("p",null,"Please enter a symbol!");if(this.error){t=o("p",null,this.error)}if(this.fetchedPrice){t=o("p",null,"Price: $",this.fetchedPrice)}if(this.loading){t=o("uc-spinner-loading",null)}return[o("form",{onSubmit:t=>this.onFetchStockPrice(t)},o("input",{id:"stock-symbol",ref:t=>this.stockInput=t,value:this.stockSymbolValue,onInput:this.onStockValueChange.bind(this)}),o("button",{type:"submit",disabled:!this.isStockInputValid||this.loading},"Fetch")),o("div",null,t)]}get el(){return r(this)}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}render(){return o(i,this.hostData(),this.__stencil_render())}};h.style=a;export{n as uc_spinner_loading,c as uc_stock_finder,h as uc_stock_price};
//# sourceMappingURL=p-cf79530c.entry.js.map